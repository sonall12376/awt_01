 <!DOCTYPE html>
<html ng-app="directivesApp">
<head>
    <title>AngularJS Directives - ng-show, ng-hide, ng-if, ng-class</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .section { margin: 20px 0; padding: 15px; border: 2px solid #ddd; border-radius: 5px; }
        .demo-box { padding: 15px; margin: 10px 0; border: 1px solid #ccc; border-radius: 4px; }
        
        /* Styles for ng-class examples */
        .highlight { background-color: yellow; font-weight: bold; }
        .completed { text-decoration: line-through; color: #888; }
        .error { background-color: #ffebee; border-color: #f44336; color: #d32f2f; }
        .success { background-color: #e8f5e8; border-color: #4caf50; color: #2e7d32; }
        .warning { background-color: #fff3e0; border-color: #ff9800; color: #ef6c00; }
        .large-text { font-size: 18px; }
        .rotated { transform: rotate(5deg); display: inline-block; }
        
        /* Toggle styles */
        .visible-true { background: #e8f5e8; }
        .visible-false { background: #ffebee; }
        
        /* DOM inspection helpers */
        .dom-info { background: #f8f9fa; padding: 10px; border-left: 4px solid #6c757d; margin: 10px 0; }
        .dom-highlight { background: #fff3cd; border: 2px dashed #ffc107; }
    </style>
</head>
<body ng-controller="DirectivesController">
    <div class="container">
        <h1>AngularJS Directives Deep Dive</h1>
        
         <!-- Section 1: ng-show vs ng-hide  -->
        <div class="section">
            <h2>1. ng-show vs ng-hide</h2>
            <p>These directives use CSS display property to show/hide elements.</p>
            
            <label>
                <input type="checkbox" ng-model="isVisible"> Toggle Visibility
            </label>
            
            <div class="demo-box" ng-show="isVisible" ng-class="{'visible-true': isVisible, 'visible-false': !isVisible}">
                <strong>ng-show="isVisible"</strong> - This element is shown when isVisible is true.
                <br>Element remains in DOM but has <code>display: none</code> when hidden.
            </div>
            
            <div class="demo-box" ng-hide="isVisible" ng-class="{'visible-true': !isVisible, 'visible-false': isVisible}">
                <strong>ng-hide="isVisible"</strong> - This element is shown when isVisible is false (opposite of ng-show).
            </div>
            
            <div class="dom-info">
                <strong>DOM Inspection:</strong> Both elements remain in the DOM. Check with F12 developer tools!
            </div>
        </div>

        <!-- Section 2: ng-if -->
        <div class="section">
            <h2>2. ng-if - Conditional DOM Manipulation</h2>
            <p>ng-if completely removes and recreates the element from the DOM.</p>
            
            <label>
                <input type="checkbox" ng-model="useNgIf"> Toggle ng-if (watch DOM changes)
            </label>
            
            <div class="demo-box dom-highlight" ng-if="useNgIf">
                <strong>ng-if="useNgIf"</strong> - This element is completely removed from DOM when false.
                <br>When shown again, it's recreated with a new scope.
                <br>Current time: {{ currentTime | date:'hh:mm:ss:sss' }}
            </div>
            
            <div class="dom-info">
                <strong>Important:</strong> ng-if creates a child scope! Watch how the time doesn't update continuously when hidden.
            </div>
        </div>

        <!-- Section 3: Performance Comparison -->
        <div class="section">
            <h2>3. Performance Comparison</h2>
            
            <label>
                <input type="checkbox" ng-model="showHeavyContent"> Show Heavy Content
            </label>
            
            <!-- ng-show version--> 
            <div class="demo-box" ng-show="showHeavyContent">
                <strong>ng-show</strong> - This content is always in DOM, just hidden.
                <br>Heavy computation: {{ heavyComputation() }}
            </div>
            
            <!-- ng-if version -->
            <div class="demo-box" ng-if="showHeavyContent">
                <strong>ng-if</strong> - This content is only in DOM when needed.
                <br>Heavy computation: {{ heavyComputation() }}
            </div>
            
            <div class="dom-info">
                <strong>Performance Tip:</strong> Use ng-if for expensive components that don't need to run when hidden.
            </div>
        </div>

        <!-- Section 4: ng-class Basic Usage--> 
        <div class="section">
            <h2>4. ng-class - Dynamic CSS Classes</h2>
            
            <h3>4.1 Boolean Conditions</h3>
            <label>
                <input type="checkbox" ng-model="isImportant"> Mark as Important
            </label>
            <label>
                <input type="checkbox" ng-model="isDone"> Mark as Completed
            </label>
            
            <div class="demo-box" ng-class="{highlight: isImportant, completed: isDone}">
                This element's classes change based on checkboxes.
                <br>Current classes: {{ isImportant ? 'highlight ' : '' }}{{ isDone ? 'completed' : '' }}
            </div>

            <h3>4.2 Multiple Conditions with Different Classes</h3>
            <select ng-model="status" ng-options="s for s in statusOptions"></select>
            
            <div class="demo-box" ng-class="{
                'success': status === 'success',
                'error': status === 'error', 
                'warning': status === 'warning'
            }">
                Status: {{ status }}
                <br>Applied class: {{ status }}
            </div>
        </div>

        <!-- Section 5: Advanced ng-class -->
        <div class="section">
            <h2>5. Advanced ng-class Usage</h2>
            
            <h3>5.1 Using Controller Methods</h3>
            <input type="number" ng-model="score" placeholder="Enter score (0-100)" min="0" max="100">
            
            <div class="demo-box" ng-class="getScoreClass(score)">
                Score: {{ score }}
                <br>Class determined by: {{ getScoreClass(score) }}
            </div>

            <h3>5.2 Array Syntax</h3>
            <label>
                <input type="checkbox" ng-model="useLargeText"> Large Text
            </label>
            <label>
                <input type="checkbox" ng-model="useRotation"> Rotated
            </label>
            
            <div class="demo-box" ng-class="[useLargeText ? 'large-text' : '', useRotation ? 'rotated' : '']">
                This uses array syntax for multiple conditional classes.
            </div>
        </div>

        <!-- Debug Section -->
        <div class="section">
            <h2>Current Scope State</h2>
            <pre>{{ {
                isVisible: isVisible,
                useNgIf: useNgIf,
                showHeavyContent: showHeavyContent,
                isImportant: isImportant,
                isDone: isDone,
                status: status,
                score: score,
                useLargeText: useLargeText,
                useRotation: useRotation
            } | json }}</pre>
        </div>
    </div>

    <script>
        angular.module('directivesApp', [])
        .controller('DirectivesController', function($scope) {
            // Initial values
            $scope.isVisible = true;
            $scope.useNgIf = true;
            $scope.showHeavyContent = false;
            $scope.isImportant = false;
            $scope.isDone = false;
            $scope.status = 'success';
            $scope.statusOptions = ['success', 'error', 'warning'];
            $scope.score = 85;
            $scope.useLargeText = false;
            $scope.useRotation = false;
            
            // Current time for demo
            $scope.currentTime = new Date();
            setInterval(function() {
                $scope.$apply(function() {
                    $scope.currentTime = new Date();
                });
            }, 100);
            
            // Heavy computation for performance demo
            $scope.heavyComputation = function() {
                // Simulate heavy computation
                let result = 0;
                for (let i = 0; i < 1000000; i++) {
                    result += Math.sqrt(i) * Math.random();
                }
                return result.toFixed(2);
            };
            
            // Method for ng-class
            $scope.getScoreClass = function(score) {
                if (score >= 90) return 'success';
                if (score >= 70) return 'warning';
                return 'error';
            };
        });
    </script>
</body>
</html> 